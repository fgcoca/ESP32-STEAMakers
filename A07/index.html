<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Estas notas se dedican a la programación de la placa de control ESP32 Plus STEAMakers por si misma o junto con la shield Imagina TDR STEAM y otros equipamientos y todo on ArduinoBlocks"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Mis-notas-sobre-ESP32-STEAMakers/A07/ rel=canonical><link rel=icon href=../img/favicon.png><meta name=generator content="mkdocs-1.4.0, mkdocs-material-8.5.6"><title>Actividad-07. El potenciómetro - Mis notas sobre ESP32 STEAMakers</title><link rel=stylesheet href=../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#02a6f2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#actividad-07-el-potenciometro class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=.. title="Mis notas sobre ESP32 STEAMakers" class="md-header__button md-logo" aria-label="Mis notas sobre ESP32 STEAMakers" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Mis notas sobre ESP32 STEAMakers </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Actividad-07. El potenciómetro </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-ESP32-STEAMakers title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-ESP32-STEAMakers </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Mis notas sobre ESP32 STEAMakers" class="md-nav__button md-logo" aria-label="Mis notas sobre ESP32 STEAMakers" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> Mis notas sobre ESP32 STEAMakers </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-ESP32-STEAMakers title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-ESP32-STEAMakers </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../importante/ class=md-nav__link> Información importante </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Algo de teoría <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Algo de teoría" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Algo de teoría </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../soft/ class=md-nav__link> Software </a> </li> <li class=md-nav__item> <a href=../htdr/ class=md-nav__link> Hardware TdR STEAM </a> </li> <li class=md-nav__item> <a href=../hsteamakers/ class=md-nav__link> Hardware ESP32 STEAMakers </a> </li> <li class=md-nav__item> <a href=../operadores/ class=md-nav__link> Operadores en programación C++ </a> </li> <li class=md-nav__item> <a href=../IoT_basico/ class=md-nav__link> Teoría básica de IoT </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Sensores digitales en la TdR STEAM <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Sensores digitales en la TdR STEAM" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Sensores digitales en la TdR STEAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../A01/ class=md-nav__link> Actividad-01. LED </a> </li> <li class=md-nav__item> <a href=../A02/ class=md-nav__link> Actividad-02. LEDs rojo y azul </a> </li> <li class=md-nav__item> <a href=../A03/ class=md-nav__link> Actividad-03. Parpadeo intermitente </a> </li> <li class=md-nav__item> <a href=../A04/ class=md-nav__link> Actividad-04. LED RGB </a> </li> <li class=md-nav__item> <a href=../A05/ class=md-nav__link> Actividad-05. Zumbador </a> </li> <li class=md-nav__item> <a href=../A06/ class=md-nav__link> Actividad-06. Pulsadores </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Sensores analógicos en la TdR STEAM <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Sensores analógicos en la TdR STEAM" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Sensores analógicos en la TdR STEAM </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Actividad-07. El potenciómetro <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Actividad-07. El potenciómetro </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#enunciado class=md-nav__link> Enunciado </a> </li> <li class=md-nav__item> <a href=#teoria class=md-nav__link> Teoría </a> <nav class=md-nav aria-label=Teoría> <ul class=md-nav__list> <li class=md-nav__item> <a href=#el-potenciometro class=md-nav__link> El potenciómetro </a> </li> <li class=md-nav__item> <a href=#el-terminal-o-consola-serie class=md-nav__link> El terminal o consola serie </a> </li> <li class=md-nav__item> <a href=#serial-plotter-datalogger class=md-nav__link> Serial Plotter - Datalogger </a> </li> <li class=md-nav__item> <a href=#mapeo class=md-nav__link> Mapeo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#en-la-tdr-steam class=md-nav__link> En la TdR STEAM </a> </li> <li class=md-nav__item> <a href=#programando-la-actividad class=md-nav__link> Programando la actividad </a> </li> <li class=md-nav__item> <a href=#retos-de-ampliacion class=md-nav__link> Retos de ampliación </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../A08/ class=md-nav__link> Actividad-08. La fotorresistencia o LDR </a> </li> <li class=md-nav__item> <a href=../A09/ class=md-nav__link> Actividad-09. El sensor de temperatura LM35D </a> </li> <li class=md-nav__item> <a href=../A10/ class=md-nav__link> Actividad-10. El sensor de temperatura y humedad DHT-11 </a> </li> <li class=md-nav__item> <a href=../A11/ class=md-nav__link> Actividad-11. Emisor y receptor de infrarrojos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Mas elementos del kit <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Mas elementos del kit" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Mas elementos del kit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../servo/ class=md-nav__link> El servo </a> </li> <li class=md-nav__item> <a href=../LCD1602/ class=md-nav__link> Puerto de expansión I2C. La LCD de 2x16 </a> </li> <li class=md-nav__item> <a href=../sonido/ class=md-nav__link> Sensor de sonido o micrófono </a> </li> <li class=md-nav__item> <a href=../evita_obs/ class=md-nav__link> Sensor infrarrojo para evitar obstáculos </a> </li> <li class=md-nav__item> <a href=../neopixel/ class=md-nav__link> LEDs RGB direccionables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Otros dispositivos I2C <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Otros dispositivos I2C" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Otros dispositivos I2C </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../matriz8x8/ class=md-nav__link> Matriz de LEDs </a> </li> <li class=md-nav__item> <a href=../color/ class=md-nav__link> Sensor de color </a> </li> <li class=md-nav__item> <a href=../gestos/ class=md-nav__link> Sensor de gestos </a> </li> <li class=md-nav__item> <a href=../rfid/ class=md-nav__link> Sensor RFID </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscelanea data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#enunciado class=md-nav__link> Enunciado </a> </li> <li class=md-nav__item> <a href=#teoria class=md-nav__link> Teoría </a> <nav class=md-nav aria-label=Teoría> <ul class=md-nav__list> <li class=md-nav__item> <a href=#el-potenciometro class=md-nav__link> El potenciómetro </a> </li> <li class=md-nav__item> <a href=#el-terminal-o-consola-serie class=md-nav__link> El terminal o consola serie </a> </li> <li class=md-nav__item> <a href=#serial-plotter-datalogger class=md-nav__link> Serial Plotter - Datalogger </a> </li> <li class=md-nav__item> <a href=#mapeo class=md-nav__link> Mapeo </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#en-la-tdr-steam class=md-nav__link> En la TdR STEAM </a> </li> <li class=md-nav__item> <a href=#programando-la-actividad class=md-nav__link> Programando la actividad </a> </li> <li class=md-nav__item> <a href=#retos-de-ampliacion class=md-nav__link> Retos de ampliación </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=actividad-07-el-potenciometro><font color=#8B008B>Actividad-07. El potenciómetro</font><a class=headerlink href=#actividad-07-el-potenciometro title="Permanent link">&para;</a></h1> <h2 id=enunciado><font color=#007575>Enunciado</font><a class=headerlink href=#enunciado title="Permanent link">&para;</a></h2> <p>Introducir el uso de las entradas analógicas para visualizar los cambios que hagamos con el potenciómetro en el terminal serie o consola serie. Cuando hablamos de lecturas analógicas suele ser muy útil el uso del mapeo, concepto que también vamos a introducir y que veremos en la segunda parte del reto.</p> <h2 id=teoria><font color=#007575>Teoría</font><a class=headerlink href=#teoria title="Permanent link">&para;</a></h2> <p>Antes de nada ya hemos indicado que el potenciometro va conectado a un pin analógico y es en este momento cuando vamos a establecer la diferencia entre los conceptos de analógico y de digital.</p> <p>Una clasificación de los circuitos electrónicos es dividirlos en dos grandes categorías: digitales y analógicos.</p> <ul> <li>La electrónica digital utiliza magnitudes con dos valores discretos conocidos como 0 - 1, alto - bajo, on - off, etc, y que se corresponden con la presencia o no de tensión en un determinado punto.</li> <li>La electrónica analógica emplea magnitudes con valores continuos. En concreto en las placas En la ESP32 Plus STEAMakers, las entradas analógicas pueden tener 2^12 valores (12 bits de resolución = 4.096 valores), es decir, valores comprendidos entre 0 y 4.095. Estos valores se pueden expresar de forma numérica o de forma porcentual, correspondiendo el 0 a un 0% y el 4.095 al 100%.</li> </ul> <h3 id=el-potenciometro><font color=#AA0000>El potenciómetro</font><a class=headerlink href=#el-potenciometro title="Permanent link">&para;</a></h3> <p>En la imagen siguiente vemos el aspecto de un modelo concreto de potenciómetro así como los símbolos habituales del mismo. La numeración indica lo siguiente:</p> <ul> <li>Terminales 1 y 3 son los contactos unidos a los extremos de la resistencia fija o resistencia total del potenciómetro.</li> <li>Terminal 2 es el contacto que va unido al cursor o parte móvil que se desliza sobre la resistencia fija haciendo que la resistencia entre un terminal y el cursor varíe en función de la posición de este.</li> </ul> <p><center></p> <p><img alt="Aspecto y símbolo del potenciómetro" src=../img/img/Actividad-07/aspecto-simbolo.png></p> <p><em>Aspecto y símbolo del potenciómetro</em></p> <p></center></p> <p>La posición del cursor se determina de forma mecánica y son adecuados para usarlos como elementos de control de tensión (conexión en serie) o de corriente (conexión en paralelo). Los potenciómetros del tipo que estamos viendo (existen de otros muchos tipos) tienen un funcionamiento en forma de rotación con un ángulo de unos 270 grados entre los puntos mas extremos.</p> <h3 id=el-terminal-o-consola-serie><font color=#AA0000>El terminal o consola serie</font><a class=headerlink href=#el-terminal-o-consola-serie title="Permanent link">&para;</a></h3> <p>Sirve para visualizar en un ordenador los datos recibidos a través del puerto serie y en realidad es una aplicación que controla las comunicaciones bidireccionales a través de la UART integrada en el microcontrolador.</p> <p>Es muy importante tener siempre presente que el puerto serie es el que se utiliza para "subir" el firmware o programa a la placa, tarea que se realiza a través de una aplicación pregrabada en el microntrolador y que se denomina "bootloader".</p> <p>En ArduinoBlocks es posible usar la consola serie solamente si tenemos instalada y en funcionamiento la aplicación ArduinoBlocks-Connector que es la encargada de establecer las comunicaciones locales de nuestra placa con las remotas de la aplicación. En la imagen siguiente vemos el aspecto de la consola.</p> <p><center></p> <p><img alt="Aspecto de la Consola en AB" src=../img/img/Actividad-07/consola.png></p> <p><em>Aspecto de la Consola en AB</em></p> <p></center></p> <p>A la hora de establecer una conexión serie los dos extremos que intervienen en la conexión (placa ESP32 STEAMakers y ordenador) deben establecer el mismo valor en la velocidad de la conexión. Por defecto esta velocidad es de 115200 baudios o bits por segundo en el bloque inicializar y otras velocidades comunmente utilizadas son: 4800, 9600, 19200, 38400, 57600. Es por lo tanto imprescindible incluir en el bloque "Inicializar" el bloque "Iniciar" y establecer la velocidad de comunicación.</p> <h3 id=serial-plotter-datalogger><font color=#AA0000>Serial Plotter - Datalogger</font><a class=headerlink href=#serial-plotter-datalogger title="Permanent link">&para;</a></h3> <p>Es otra funcionalidad relacionada con la comunicación serie que nos permite visualizar información en forma de gráfica en tiempo real. Además el “Serial Plotter” implementa un sencillo datalogger con el que podemos ir grabando los datos para exportarlos posteriormente. En ArduinoBlocks existen bloques que nos permiten trabajar con el serial plotter. El serial plotter + datalogger se activa haciendo clic en la flecha a la derecha de Consola y tiene el aspecto que vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Serial Plotter + Datalogger" src=../img/img/Actividad-07/plotter.png></p> <p><em>Serial Plotter + Datalogger</em></p> <p></center></p> <h3 id=mapeo><font color=#AA0000>Mapeo</font><a class=headerlink href=#mapeo title="Permanent link">&para;</a></h3> <p>Hemos indicado que las entradas analógicas trabajan con 12 bits, o sea valores comprendidos entre 0 y 4095 (2^12) y también que las salidas digitales trabajan con 8 bits, o sea valores entre 0 y 255 (28), por lo que si queremos combinar en nuestro programa entradas analógicas con salidas digitales debemos realizar un ajuste de escala en los datos. A este ajuste se le conoce como "mapear" y es un bloque disponible en el menú Matemáticas con el aspecto de la imagen siguiente:</p> <p><center></p> <p><img alt="Bloque mapear" src=../img/img/Actividad-07/mapear.png></p> <p><em>Bloque mapear</em></p> <p></center></p> <h2 id=en-la-tdr-steam><font color=#007575>En la TdR STEAM</font><a class=headerlink href=#en-la-tdr-steam title="Permanent link">&para;</a></h2> <p><center></p> <p><img alt="El potenciometro de la TdR STEAM" src=../img/img/Actividad-07/Por-TdR.png></p> <p><em>El potenciometro de la TdR STEAM</em></p> <p></center></p> <h2 id=programando-la-actividad><font color=#007575>Programando la actividad</font><a class=headerlink href=#programando-la-actividad title="Permanent link">&para;</a></h2> <ul> <li><strong>Parte 1</strong>. Vamos a guardar los datos leídos del potenciómetro en una variable y mostrarlos a través de la consola serie. La solución la tenemos disponible en <a href=../programas/ESP32-SM-Actividad-07-P1.abp>Actividad-07: Parte 1</a> que es el programa que vemos en la imagen siguiente:</li> </ul> <p><center></p> <p><img alt="Parte 1 de la actividad 7" src=../img/img/Actividad-07/A07_Parte-1.png></p> <p><em>Parte 1 de la actividad 7</em></p> <p></center></p> <p>Si cargamos el programa en nuestra placa y posteriormente activamos la consola y conectamos ArduinoBlocks con nuestro ordenador podemos ver un resultado similar al de la imagen siguiente que se corresponde con variaciones de extremo a extremo del potenciómetro.</p> <p><center></p> <p><img alt="Aspecto de la consola" src=../img/img/Actividad-07/consola-parte-1.png></p> <p><em>Aspecto de la consola</em></p> <p></center></p> <p>Para entender el significado del check "salto de linea" del bloque "Enviar" podemos desactivarlo y volver a hacer el mismo proceso.</p> <hr> <p><font color=red> ¡MUY IMPORTANTE! cuando terminemos de manipular el potenciómetro que el mismo esté totalmente girado a la posición izquierda (punto de color magenta), ya que comparte la conexión A0 (GPIO02) con el sistema de grabación del programa. Si no está en esa posición se producirá un error en el envío del programa. </font></p> <hr> <ul> <li><strong>Parte 2</strong>. Vamos a modificar el programa de la parte 1 del reto para mapear los datos antes de enviarlos a la consola serie. La solución la tenemos disponible en <a href=../programas/ESP32-SM-Actividad-07-P2.abp>Actividad-07: Parte 2</a> que es el programa que vemos en la imagen siguiente:</li> </ul> <p><center></p> <p><img alt="Parte 2 de la actividad 7" src=../img/img/Actividad-07/A07_Parte-2.png></p> <p><em>Parte 2 de la actividad 7</em></p> <p></center></p> <p>El resultado ahora lo vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Aspecto de la consola" src=../img/img/Actividad-07/consola-parte-2.png></p> <p><em>Aspecto de la consola</em></p> <p></center></p> <ul> <li><strong>Ampliación</strong>. Vamos ahora a mapear y mostrar los datos leídos del potenciómetro en el Serial Plotter. La solución la tenemos disponible en <a href=../programas/ESP32-SM-Actividad-07-Amp.abp>Actividad-07: Ampliacion</a> que es el programa que vemos en la imagen siguiente:</li> </ul> <p><center></p> <p><img alt="Ampliación de la actividad 7, serial plotter" src=../img/img/Actividad-07/A07_Parte-2.png></p> <p><em>Ampliación de la actividad 7, serial plotter</em></p> <p></center></p> <p>Si activamos el Serial Plotter y vamos variando el potenciometro veremos el resultado en el mismo, obteniendo algo similar a la imagen siguiente:</p> <p><center></p> <p><img alt="Aspecto del Serial plotter" src=../img/img/Actividad-07/serial-plotter-parte-Amp.png></p> <p><em>Aspecto del Serial plotter</em></p> <p></center></p> <p></center></p> <h2 id=retos-de-ampliacion><font color=#007575>Retos de ampliación</font><a class=headerlink href=#retos-de-ampliacion title="Permanent link">&para;</a></h2> <p><strong>A7.R1</strong>. Utilización del bloque "crear texto con ..." del menú "Texto". Utilizaremos cualquiera de los programas vistos en la actividad y configuraremos el nuevo bloque para que en cada línea nos muestre el mensaje "El valor del potenciometro es: ", a continuación nos muestre el valor y tras el mismo el símbolo % porque configuraremos la lectura en porcentaje. Dejaremos transcurrir un tiempo de 3s entre cada muestra de salida por consola.</p> <p><strong>A7.R2</strong>. Control del LED RGB con el potenciometro. Vamos a dividir el rango total en 8 partes y asignarle a cada una de ellas uno de los colores RGB según vemos en la tabla siguiente:</p> <p><center></p> <table> <thead> <tr> <th>Color</th> <th align=center>Rango</th> <th align=center>R</th> <th align=center>G</th> <th align=center>B</th> </tr> </thead> <tbody> <tr> <td>Rojo</td> <td align=center>0 a 512</td> <td align=center>255</td> <td align=center>0</td> <td align=center>0</td> </tr> <tr> <td>Verde</td> <td align=center>513 a 1023</td> <td align=center>0</td> <td align=center>255</td> <td align=center>0</td> </tr> <tr> <td>Azul</td> <td align=center>1024 a 1536</td> <td align=center>0</td> <td align=center>0</td> <td align=center>255</td> </tr> <tr> <td>Amarillo</td> <td align=center>1537 a 2048</td> <td align=center>255</td> <td align=center>255</td> <td align=center>0</td> </tr> <tr> <td>Cian</td> <td align=center>2049 a 2560</td> <td align=center>0</td> <td align=center>255</td> <td align=center>255</td> </tr> <tr> <td>Magenta</td> <td align=center>2561 a 3072</td> <td align=center>255</td> <td align=center>0</td> <td align=center>255</td> </tr> <tr> <td>Blanco</td> <td align=center>3073 a 3584</td> <td align=center>255</td> <td align=center>255</td> <td align=center>255</td> </tr> <tr> <td>Naranja</td> <td align=center>3584 a 4096</td> <td align=center>255</td> <td align=center>127</td> <td align=center>0</td> </tr> </tbody> </table> <p></center></p> <ul> <li><strong>A7.R3</strong>. Repetir el reto 2 de esta actividad pero ahora además mostrando por consola el valor del potenciometro.</li> </ul> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Pie> <a href=../A06/ class="md-footer__link md-footer__link--prev" aria-label="Anterior: Actividad-06. Pulsadores" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Anterior </span> Actividad-06. Pulsadores </div> </div> </a> <a href=../A08/ class="md-footer__link md-footer__link--next" aria-label="Siguiente: Actividad-08. La fotorresistencia o LDR" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Siguiente </span> Actividad-08. La fotorresistencia o LDR </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2035 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script> <script src=../assets/javascripts/bundle.078830c0.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>