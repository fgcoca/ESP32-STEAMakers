<!doctype html><html lang=es class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Estas notas se dedican a la programación de la placa de control ESP32 Plus STEAMakers por si misma o junto con la shield Imagina TDR STEAM y otros equipamientos y todo on ArduinoBlocks"><meta name=author content="Federico Coca"><link href=https://fgcoca.github.io/Mis-notas-sobre-ESP32-STEAMakers/A09/ rel=canonical><link rel=icon href=../img/favicon.png><meta name=generator content="mkdocs-1.4.0, mkdocs-material-8.5.6"><title>Actividad-09. El sensor de temperatura LM35D - Mis notas sobre ESP32 STEAMakers</title><link rel=stylesheet href=../assets/stylesheets/main.20d9efc8.min.css><link rel=stylesheet href=../assets/stylesheets/palette.cbb835fc.min.css><meta name=theme-color content=#02a6f2><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme data-md-color-primary=light-blue data-md-color-accent=deep-purple> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#actividad-09-el-sensor-de-temperatura-lm35d class=md-skip> Saltar a contenido </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Cabecera> <a href=.. title="Mis notas sobre ESP32 STEAMakers" class="md-header__button md-logo" aria-label="Mis notas sobre ESP32 STEAMakers" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Mis notas sobre ESP32 STEAMakers </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Actividad-09. El sensor de temperatura LM35D </span> </div> </div> </div> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Búsqueda placeholder=Búsqueda autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Limpiar aria-label=Limpiar tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Inicializando búsqueda </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-ESP32-STEAMakers title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-ESP32-STEAMakers </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navegación data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Mis notas sobre ESP32 STEAMakers" class="md-nav__button md-logo" aria-label="Mis notas sobre ESP32 STEAMakers" data-md-component=logo> <img src=../img/favicon.png alt=logo> </a> Mis notas sobre ESP32 STEAMakers </label> <div class=md-nav__source> <a href=https://github.com/fgcoca/Mis-notas-sobre-ESP32-STEAMakers title="Ir al repositorio" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> fgcoca/Mis-notas-sobre-ESP32-STEAMakers </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> Introducción </a> </li> <li class=md-nav__item> <a href=../importante/ class=md-nav__link> Información importante </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_3 type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3> Algo de teoría <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Algo de teoría" data-md-level=1> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Algo de teoría </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../soft/ class=md-nav__link> Software </a> </li> <li class=md-nav__item> <a href=../htdr/ class=md-nav__link> Hardware TdR STEAM </a> </li> <li class=md-nav__item> <a href=../hsteamakers/ class=md-nav__link> Hardware ESP32 STEAMakers </a> </li> <li class=md-nav__item> <a href=../operadores/ class=md-nav__link> Operadores en programación C++ </a> </li> <li class=md-nav__item> <a href=../IoT_basico/ class=md-nav__link> Teoría básica de IoT </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_4 type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4> Sensores digitales en la TdR STEAM <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Sensores digitales en la TdR STEAM" data-md-level=1> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Sensores digitales en la TdR STEAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../A01/ class=md-nav__link> Actividad-01. LED </a> </li> <li class=md-nav__item> <a href=../A02/ class=md-nav__link> Actividad-02. LEDs rojo y azul </a> </li> <li class=md-nav__item> <a href=../A03/ class=md-nav__link> Actividad-03. Parpadeo intermitente </a> </li> <li class=md-nav__item> <a href=../A04/ class=md-nav__link> Actividad-04. LED RGB </a> </li> <li class=md-nav__item> <a href=../A05/ class=md-nav__link> Actividad-05. Zumbador </a> </li> <li class=md-nav__item> <a href=../A06/ class=md-nav__link> Actividad-06. Pulsadores </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_5 type=checkbox id=__nav_5 checked> <label class=md-nav__link for=__nav_5> Sensores analógicos en la TdR STEAM <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Sensores analógicos en la TdR STEAM" data-md-level=1> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Sensores analógicos en la TdR STEAM </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../A07/ class=md-nav__link> Actividad-07. El potenciómetro </a> </li> <li class=md-nav__item> <a href=../A08/ class=md-nav__link> Actividad-08. La fotorresistencia o LDR </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Actividad-09. El sensor de temperatura LM35D <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Actividad-09. El sensor de temperatura LM35D </a> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#enunciado class=md-nav__link> Enunciado </a> </li> <li class=md-nav__item> <a href=#teoria class=md-nav__link> Teoría </a> <nav class=md-nav aria-label=Teoría> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lm35 class=md-nav__link> LM35 </a> </li> <li class=md-nav__item> <a href=#bloques-de-tiempo class=md-nav__link> Bloques de tiempo </a> </li> <li class=md-nav__item> <a href=#funciones class=md-nav__link> Funciones </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#en-la-tdr-steam class=md-nav__link> En la TdR STEAM </a> </li> <li class=md-nav__item> <a href=#programando-la-actividad class=md-nav__link> Programando la actividad </a> </li> <li class=md-nav__item> <a href=#retos-de-ampliacion class=md-nav__link> Retos de ampliación </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../A10/ class=md-nav__link> Actividad-10. El sensor de temperatura y humedad DHT-11 </a> </li> <li class=md-nav__item> <a href=../A11/ class=md-nav__link> Actividad-11. Emisor y receptor de infrarrojos </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_6 type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6> Mas elementos del kit <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Mas elementos del kit" data-md-level=1> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Mas elementos del kit </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../servo/ class=md-nav__link> El servo </a> </li> <li class=md-nav__item> <a href=../LCD1602/ class=md-nav__link> Puerto de expansión I2C. La LCD de 2x16 </a> </li> <li class=md-nav__item> <a href=../sonido/ class=md-nav__link> Sensor de sonido o micrófono </a> </li> <li class=md-nav__item> <a href=../evita_obs/ class=md-nav__link> Sensor infrarrojo para evitar obstáculos </a> </li> <li class=md-nav__item> <a href=../neopixel/ class=md-nav__link> LEDs RGB direccionables </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_7 type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7> Otros dispositivos I2C <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label="Otros dispositivos I2C" data-md-level=1> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Otros dispositivos I2C </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../matriz8x8/ class=md-nav__link> Matriz de LEDs </a> </li> <li class=md-nav__item> <a href=../color/ class=md-nav__link> Sensor de color </a> </li> <li class=md-nav__item> <a href=../gestos/ class=md-nav__link> Sensor de gestos </a> </li> <li class=md-nav__item> <a href=../rfid/ class=md-nav__link> Sensor RFID </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=__nav_8 type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8> Miscelanea <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Miscelanea data-md-level=1> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Miscelanea </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Miscelanea/about/ class=md-nav__link> Autor </a> </li> <li class=md-nav__item> <a href=../Miscelanea/lic/ class=md-nav__link> Licencias </a> </li> <li class=md-nav__item> <a href=../Miscelanea/webgrafia/ class=md-nav__link> Webgrafia/Bibliografía </a> </li> <li class=md-nav__item> <a href=../Miscelanea/soft/ class=md-nav__link> Software utilizado </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Tabla de contenidos"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Tabla de contenidos </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#enunciado class=md-nav__link> Enunciado </a> </li> <li class=md-nav__item> <a href=#teoria class=md-nav__link> Teoría </a> <nav class=md-nav aria-label=Teoría> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lm35 class=md-nav__link> LM35 </a> </li> <li class=md-nav__item> <a href=#bloques-de-tiempo class=md-nav__link> Bloques de tiempo </a> </li> <li class=md-nav__item> <a href=#funciones class=md-nav__link> Funciones </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#en-la-tdr-steam class=md-nav__link> En la TdR STEAM </a> </li> <li class=md-nav__item> <a href=#programando-la-actividad class=md-nav__link> Programando la actividad </a> </li> <li class=md-nav__item> <a href=#retos-de-ampliacion class=md-nav__link> Retos de ampliación </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=actividad-09-el-sensor-de-temperatura-lm35d><font color=#8B008B>Actividad-09. El sensor de temperatura LM35D</font><a class=headerlink href=#actividad-09-el-sensor-de-temperatura-lm35d title="Permanent link">&para;</a></h1> <h2 id=enunciado><font color=#007575>Enunciado</font><a class=headerlink href=#enunciado title="Permanent link">&para;</a></h2> <p>Utilizaremos este sensor de temperatura para medir la temperatura de la habitación en la que estemos resolviendo el reto mostrando el resultado en la consola.</p> <h2 id=teoria><font color=#007575>Teoría</font><a class=headerlink href=#teoria title="Permanent link">&para;</a></h2> <h3 id=lm35><font color=#AA0000>LM35</font><a class=headerlink href=#lm35 title="Permanent link">&para;</a></h3> <p>El LM35 es un circuito integrado de medida de temperatura de precisión con una tensión de salida lineal y proporcional a la temperatura en grados centígrados. Algunas de las características que se pueden extraer de la <a href=../Datasheet/lm35.pdf>hoja de datos del LM35</a> son:</p> <ul> <li>Directamente calibrado en grados Celsius (Centígrados)</li> <li>Factor de escala lineal de +10-mV/°C</li> <li>Resolución asegurada de 0.5°C</li> <li>Rango de medida de −55°C a 150°C</li> </ul> <p>En la imagen siguiente vemos su representación en circuito y el aspecto físico que tiene en uno de sus encapsulados mas usual.</p> <p><center></p> <p><img alt="Representación esquemática y aspecto" src=../img/img/Actividad-09/represeta-aspecto.png></p> <p><em>Representación esquemática y aspecto</em></p> <p></center></p> <h3 id=bloques-de-tiempo><font color=#AA0000>Bloques de tiempo</font><a class=headerlink href=#bloques-de-tiempo title="Permanent link">&para;</a></h3> <p>Para esta actividad vamos a explicar los bloques de tiempo que se implementan en ArduinoBlocks. Las funciones de tiempo o retardo nos permiten realizar pausas y obtener información sobre el tiempo transcurrido dentro del microcontrolador.</p> <p><strong>1.- Bloques esperar</strong>. Realizan una pausa del tiempo que establezcamos hasta seguir con la ejecución del siguiente bloque. Se corresponden con las instrucciones delay(1000) y delayMicroseconds(1000). Tenemos disponibles los dos de la imagen siguiente:</p> <p><center></p> <p><img alt="Bloques esperar" src=../img/img/Actividad-09/Bloques-esperar.png></p> <p><em>Bloques esperar</em></p> <p></center></p> <p><strong>2.- Tiempo transcurrido</strong>. Obtiene un valor con el tiempo transcurrido desde el inicio o reset del microcontrolador de la placa ESP32 STEAMakers. Se trata de las funciones millis() y micros(). El valor puede ser en milisegundos o microsegundos, tal y como vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Bloques tiempo transcurrido" src=../img/img/Actividad-09/B-tiempo-transcurrido.png></p> <p><em>Bloques tiempo transcurrido</em></p> <p></center></p> <p>En la imagen siguiente tenemos un ejemplo de uso sacado del <a href=https://docs.google.com/document/u/1/d/e/2PACX-1vQSrOKHpbLQHVbGFdAvp7DcndoftoHDI20nvwGMaxu_7bGc1bUCmi4U6DZrJWRSudc2iXBg43QMuzCT/pub>manual del programa</a>: Ejecutar la Tarea1 cada 3 segundos y la Tarea2 cada 7 segundos <strong><font size=5> sin bloquear la ejecución del programa </font></strong>:</p> <p><center></p> <p><img alt="Ejemplo de uso del bloque tiempo transcurrido" src=../img/img/Actividad-09/ejemplo-tiempo-transcurrido.png></p> <p><em>Ejemplo de uso del bloque tiempo transcurrido</em></p> <p></center></p> <p><strong>3.- Esperar por siempre</strong>. Bloquea indefinidamente la ejecución finalizando por tanto el programa. Vemos el bloque en la imagen siguiente:</p> <p><center></p> <p><img alt="Bloque esperar por siempre" src=../img/img/Actividad-09/esperar-siempre.png></p> <p><em>Bloque esperar por siempre</em></p> <p></center></p> <p><strong>4.- Ejecutar cada</strong>. Es un bloque que <strong>NO</strong> bloquea la ejecución del programa y que implementa automáticamente la función millis(). En la imagen siguiente vemos su aspecto:</p> <p><center></p> <p><img alt="Bloque ejecutar cada" src=../img/img/Actividad-09/B-ejecutar-cada.png></p> <p><em>Bloque ejecutar cada</em></p> <p></center></p> <p>El resto de bloque y la ampliación de información la podemos consultar en el <a href=https://docs.google.com/document/u/1/d/e/2PACX-1vQSrOKHpbLQHVbGFdAvp7DcndoftoHDI20nvwGMaxu_7bGc1bUCmi4U6DZrJWRSudc2iXBg43QMuzCT/pub>manual del programa</a>.</p> <h3 id=funciones><font color=#AA0000>Funciones</font><a class=headerlink href=#funciones title="Permanent link">&para;</a></h3> <p>Una función permite crear un grupo de bloques de código que realizan una determinada tarea y que se repite a lo largo del programa principal en varias ocasiones. Con la creación de una función evitamos repetir todos esos bloques y simplemente tendremos que invocar a la función. Es muy conveniente que los nombre que usemos sean lo mas descriptivos posibles de lo que hace la función. Existen dos tipos de funciones: las que no retornan un valor y las que si lo hacen. En la imagen siguiente vemos los bloques correspondientes a las mismas:</p> <p><center></p> <p><img alt="Bloques para crear funciones en ArduinoBlocks" src=../img/img/Actividad-09/B-funciones.png></p> <p><em>Bloques para crear funciones en ArduinoBlocks</em></p> <p></center></p> <p>Cuando creamos funciones automáticamente se crea el bloque con su nombre que permite invocarla, tal y como vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Bloques para llamada a funciones" src=../img/img/Actividad-09/llamadas-funciones.png></p> <p><em>Bloques para llamada a funciones</em></p> <p></center></p> <p>También es posible crear funciones a las que se le envían datos o parámetros haciendo uso del signo + que aparece en los bloques. En la imagen siguiente vemos como le hemos añadido un par de parámetros a cada tipo de función y como se han modificado sus respectivos bloques de invocación.</p> <p><center></p> <p><img alt="Bloques para llamada a funciones con parámetros" src=../img/img/Actividad-09/llamadas-funciones-param.png></p> <p><em>Bloques para llamada a funciones con parámetros</em> </center></p> <p>Un ejemplo típico descriptivo del funcionamiento de las funciones es el de calculo del área de un triángulo. Para ello definimos la función que realiza el cálculo, le pasamos dos parámetros, la base y la altura, realizamos los cálculos pitagóricos y nos devuelve el área del triángulo para esos datos. En la imagen siguiente tenemos la idea de resolución con la función creada y el bloque para llamarla.</p> <p><center></p> <p><img alt="Ejemplo de calculo del área de un triángulo" src=../img/img/Actividad-09/ejemplo-area-triangulo.png></p> <p><em>Ejemplo de calculo del área de un triángulo</em></p> <p></center></p> <p>En las imágenes siguiente vemos como se han creado diferentes funciones y la forma de llamarlas. En concreto se corresponden con la base del programa de <a href=http://educacont.org/ >Educacont</a> para configurar y grabar en la correspondiente estación. La primera función es "leer sensores" y la vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Función leer sensores de Educacont" src=../img/img/Actividad-09/leer-sensores.png></p> <p><em>Función leer sensores de Educacont</em></p> <p></center></p> <p>En la imagen siguiente podemos ver la función encargada de subir los datos leídos a la nube.</p> <p><center></p> <p><img alt="Función subir datos a la nube de Educacont" src=../img/img/Actividad-09/subir-datos-nube.png></p> <p><em>Función subir datos a la nube de Educacont</em></p> <p></center></p> <p>La siguiente función permite detener las mediciones durante 15 minutos.</p> <p><center></p> <p><img alt="Función detener medición nn minutos de Educacont" src=../img/img/Actividad-09/funcion-esperar.png></p> <p><em>Función detener medición nn minutos de Educacont</em></p> <p></center></p> <p>El bucle principal tiene la configuración que vemos en la imagen siguiente:</p> <p><center></p> <p><img alt="Llamada a las funciones definidas" src=../img/img/Actividad-09/bucle-leer-sensores.png></p> <p><em>Llamada a las funciones definidas</em></p> <p></center></p> <h2 id=en-la-tdr-steam><font color=#007575>En la TdR STEAM</font><a class=headerlink href=#en-la-tdr-steam title="Permanent link">&para;</a></h2> <p><center></p> <p><img alt="El LM35 en la TdR STEAM" src=../img/img/Actividad-09/LM35enTdR.png></p> <p><em>El LM35 en la TdR STEAM</em></p> <p></center></p> <h2 id=programando-la-actividad><font color=#007575>Programando la actividad</font><a class=headerlink href=#programando-la-actividad title="Permanent link">&para;</a></h2> <p>La programación de la actividad es muy similar a la de las anteriores y el programa <a href=../programas/ESP32-SM-Actividad-09.abp>ESP32-SM-Actividad-09</a> es el que vemos en la imagen siguiente:</p> <p><center></p> <p><img alt=Actividad-09 src=../img/img/Actividad-09/A09.png></p> <p><em>Actividad-09</em></p> <p></center></p> <p>Esto nos generará algo como lo de la imagen siguiente en la consola:</p> <p><center></p> <p><img alt="Consola que produce la actividad 9" src=../img/img/Actividad-09/A09-consola.png></p> <p><em>Consola que produce la actividad 9</em></p> <p></center></p> <h2 id=retos-de-ampliacion><font color=#007575>Retos de ampliación</font><a class=headerlink href=#retos-de-ampliacion title="Permanent link">&para;</a></h2> <p><strong>A9.R1</strong>. Alarma óptico/acústica por sobrepasar una temperatura de 25ºC. Utilizaremos el zumbador para emitir algún pitido y el LED rojo para la indicación óptica.</p> <p><strong>A9.R2</strong>. Semáforo indicador de rangos de temperatura. Se trata de programar un semáforo con un LED RGB que mostrará color verde si la temperatura está por debajo de 25ºC, rojo si está por encima de 35ºC y amarillo si está entre ambos valores.</p> </article> </div> </div> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Pie> <a href=../A08/ class="md-footer__link md-footer__link--prev" aria-label="Anterior: Actividad-08. La fotorresistencia o LDR" rel=prev> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Anterior </span> Actividad-08. La fotorresistencia o LDR </div> </div> </a> <a href=../A10/ class="md-footer__link md-footer__link--next" aria-label="Siguiente: Actividad-10. El sensor de temperatura y humedad DHT-11" rel=next> <div class=md-footer__title> <div class=md-ellipsis> <span class=md-footer__direction> Siguiente </span> Actividad-10. El sensor de temperatura y humedad DHT-11 </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2020 - 2035 Federico Coca </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://twitter.com/fgcoca target=_blank rel=noopener title="Twitter de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://github.com/fgcoca target=_blank rel=noopener title="Github de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href="https://www.instagram.com/cocafederico/?hl=es" target=_blank rel=noopener title="Instagram de Federico Coca" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> <a href=https://twitter.com/clubroboticagra target=_blank rel=noopener title="Twitter de Club Robótica Granada" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": [], "search": "../assets/javascripts/workers/search.5bf1dace.min.js", "translations": {"clipboard.copied": "Copiado al portapapeles", "clipboard.copy": "Copiar al portapapeles", "search.config.lang": "es", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "B\u00fasqueda", "search.result.more.one": "1 m\u00e1s en esta p\u00e1gina", "search.result.more.other": "# m\u00e1s en esta p\u00e1gina", "search.result.none": "No se encontraron documentos", "search.result.one": "1 documento encontrado", "search.result.other": "# documentos encontrados", "search.result.placeholder": "Teclee para comenzar b\u00fasqueda", "search.result.term.missing": "Falta", "select.version.title": "Seleccionar versi\u00f3n"}}</script> <script src=../assets/javascripts/bundle.078830c0.min.js></script> <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script> </body> </html>